<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
<fontconfig>
  <!-- Scan current directory for fonts -->
  <dir>.</dir>
  
  <!-- Enable cache -->
  <cachedir>/tmp/fontconfig-cache</cachedir>
  
  <!-- Map font files to family names -->
  <match target="scan">
    <test name="file" compare="contains">
      <string>Montserrat</string>
    </test>
    <edit name="family" mode="assign_replace">
      <string>Montserrat</string>
    </edit>
  </match>
  
  <match target="scan">
    <test name="file" compare="contains">
      <string>Poppins</string>
    </test>
    <edit name="family" mode="assign_replace">
      <string>Poppins</string>
    </edit>
  </match>
  
  <match target="scan">
    <test name="file" compare="contains">
      <string>Lato</string>
    </test>
    <edit name="family" mode="assign_replace">
      <string>Lato</string>
    </edit>
  </match>
  
  <match target="scan">
    <test name="file" compare="contains">
      <string>Roboto</string>
    </test>
    <edit name="family" mode="assign_replace">
      <string>Roboto</string>
    </edit>
  </match>
  
  <match target="scan">
    <test name="file" compare="contains">
      <string>NotoSansDevanagari</string>
    </test>
    <edit name="family" mode="assign_replace">
      <string>NotoSansDevanagari</string>
    </edit>
  </match>
  
  <!-- Fallback chains for each font family -->
  <alias>
    <family>Montserrat</family>
    <prefer>
      <family>Montserrat</family>
      <family>NotoSansDevanagari</family>
    </prefer>
    <default><family>sans-serif</family></default>
  </alias>
  
  <alias>
    <family>Poppins</family>
    <prefer>
      <family>Poppins</family>
      <family>NotoSansDevanagari</family>
    </prefer>
    <default><family>sans-serif</family></default>
  </alias>
  
  <alias>
    <family>Lato</family>
    <prefer>
      <family>Lato</family>
      <family>NotoSansDevanagari</family>
    </prefer>
    <default><family>sans-serif</family></default>
  </alias>
  
  <alias>
    <family>Roboto</family>
    <prefer>
      <family>Roboto</family>
      <family>NotoSansDevanagari</family>
    </prefer>
    <default><family>sans-serif</family></default>
  </alias>
  
  <!-- Global sans-serif fallback -->
  <alias>
    <family>sans-serif</family>
    <prefer>
      <family>Montserrat</family>
      <family>NotoSansDevanagari</family>
    </prefer>
  </alias>
  
  <!-- Hindi language support -->
  <match target="pattern">
    <test name="lang" compare="contains">
      <string>hi</string>
    </test>
    <edit name="family" mode="prepend" binding="strong">
      <string>NotoSansDevanagari</string>
    </edit>
  </match>
  
  <!-- Accept any font and enable embedded bitmaps -->
  <match target="font">
    <edit name="embeddedbitmap" mode="assign">
      <bool>true</bool>
    </edit>
  </match>
</fontconfig>

